<p class="text-2xl">New Poll</p>

<%=form_with model: @poll, class:"flex flex-col space-y-4" do |f| %>
    <div>
        <%= f.label "Poll Name"%>
        <%= f.text_field :name, placeholder: "Poll Name"%>
    </div>
    <div>
        <%= f.label :desciption%>
        <%= f.text_area :description, placeholder: "Describe your poll"%>
    </div>
    <div>
        <p class ="text-lg">Poll Items</p>
        <% f.object.poll_items.each_with_index do |poll_item, id| %>
            <%= f.fields :poll_items_attributes, model: poll_item, index: id do |sub_form| %>
                <fieldset class="flex justify-between">
                <%= sub_form.text_field :item_name, placeholder: "Add Poll Item"%>
                <%= sub_form.button :_destroy, value: true, formaction: new_poll_path, formmethod:"get" do %>
                    Remove
                <%end%>
                </fieldset>
            <%end%>
        <%end%>
        <%= f.fields :poll_items_attributes, index: f.object.poll_items.size do |sub_form|%>
            <%= sub_form.button :_destroy, value: false, formaction: new_poll_path, formmethod:"get" do%>
                Add Poll Items
            <%end%>
        <%end%>
    </div>
    <div class="">
        <%= f.submit%>
    </div>
<%end%>
